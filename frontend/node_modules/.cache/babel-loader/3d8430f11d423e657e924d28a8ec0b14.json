{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/ING 4 /PROJECT-WEB-OCRES/frontend/src/components/meteo/SemaineContainer.js\";\nimport React from 'react';\nimport DayCard from './Daycard';\nimport MeteoForm from '../../Settings/SearchBars/MeteoForm';\nimport { useEffect, useState } from 'react';\nimport './Meteo.css';\nexport default (props => {\n  const [fullData, setFullData] = useState([]); //Permet le chargement des données de l'API\n\n  const func = () => {\n    const API_URL = \"https://api.openweathermap.org/data/2.5/forecast/daily\";\n    const API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\"; //Appel les 3 prochains jours cnt=3\n\n    const weatherURL = `${API_URL}?q=${props.ville}&cnt=3&units=metric&appid=${API_KEY}`;\n    fetch(weatherURL).then(res => res.json()).then(data => {\n      setFullData(data.list);\n    });\n  }; //Permet la création d'une carte d'un jour de la semaine\n\n\n  const formatDayCards = () => {\n    return fullData.map((reading, index) => /*#__PURE__*/React.createElement(DayCard, {\n      reading: reading,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 45\n      }\n    }));\n  };\n\n  useEffect(() => {\n    func();\n  }, [props.ville]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Semaine\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, props.ville, \" weather forecast\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, formatDayCards()));\n});","map":{"version":3,"sources":["/Applications/MAMP/htdocs/ING 4 /PROJECT-WEB-OCRES/frontend/src/components/meteo/SemaineContainer.js"],"names":["React","DayCard","MeteoForm","useEffect","useState","props","fullData","setFullData","func","API_URL","API_KEY","weatherURL","ville","fetch","then","res","json","data","list","formatDayCards","map","reading","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAO,aAAP;AAEA,gBAAgBC,KAAD,IAAW;AAExB,QAAK,CAACC,QAAD,EAAWC,WAAX,IAA0BH,QAAQ,CAAC,EAAD,CAAvC,CAFwB,CAIxB;;AACA,QAAMI,IAAI,GAAG,MAAM;AACjB,UAAMC,OAAO,GAAG,wDAAhB;AACA,UAAMC,OAAO,GAAG,kCAAhB,CAFiB,CAIjB;;AACA,UAAMC,UAAU,GAAI,GAAEF,OAAQ,MAAKJ,KAAK,CAACO,KAAM,6BAA4BF,OAAQ,EAAnF;AAEAG,IAAAA,KAAK,CAACF,UAAD,CAAL,CACGG,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACdV,MAAAA,WAAW,CAACU,IAAI,CAACC,IAAN,CAAX;AACD,KAJD;AAKD,GAZD,CALwB,CAmBxB;;;AACA,QAAMC,cAAc,GAAG,MAAM;AAC3B,WAAOb,QAAQ,CAACc,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV,kBAAoB,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAED,OAAlB;AAA2B,MAAA,GAAG,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjC,CAAP;AACD,GAFD;;AAIAnB,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,IAAI;AACL,GAFQ,EAEP,CAACH,KAAK,CAACO,KAAP,CAFO,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKP,KAAK,CAACO,KAAX,sBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAKQ;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGO,cAAc,EAHjB,CALR,CADF;AAaD,CAzCD","sourcesContent":["import React from 'react';\nimport DayCard from './Daycard';\nimport MeteoForm from '../../Settings/SearchBars/MeteoForm';\nimport {useEffect, useState} from 'react';\nimport './Meteo.css';\n\nexport default (props) => {\n\n  const[fullData, setFullData] = useState([])\n\n  //Permet le chargement des données de l'API\n  const func = () => {\n    const API_URL = \"https://api.openweathermap.org/data/2.5/forecast/daily\";\n    const API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\";\n\n    //Appel les 3 prochains jours cnt=3\n    const weatherURL = `${API_URL}?q=${props.ville}&cnt=3&units=metric&appid=${API_KEY}`\n\n    fetch(weatherURL)\n      .then(res => res.json())\n      .then(data => {\n      setFullData(data.list)\n    })\n  }\n\n  //Permet la création d'une carte d'un jour de la semaine\n  const formatDayCards = () => {\n    return fullData.map((reading, index) => <DayCard reading={reading} key={index} />)\n  }\n\n  useEffect(() => {\n    func()\n  },[props.ville])\n\n  return (\n    <div className=\"Semaine\">\n\n        {/*Affichage de la ville envoyée*/}\n        <h5>{props.ville} weather forecast</h5>\n        <br/>\n            <div className=\"row justify-content-center\">\n\n              {/*Appel de Daycard.js et des 3 jours de la semaine*/}\n              {formatDayCards()}\n            </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}